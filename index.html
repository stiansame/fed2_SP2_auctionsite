<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Browse and bid on student auction listings." />
    <title>Noroff TradeHub | Home</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="./css/style.css" />
    <link rel="icon" href="data:," />
    <script type="module" src="./js/app.js"></script>
</head>

<body>
    <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-3 focus:left-3 focus:z-50 focus:rounded-md focus:bg-white focus:px-3 focus:py-2 focus:shadow">
        Skip to content
    </a>

    <header id="site-header" class="site-header"></header>

    <main id="main" class="container-page py-6">
        <!-- HOME VIEW -->
        <div id="homeView">
            <section class="mb-6">
                <div class="flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between">
                    <div>
                        <h1>Live listings</h1>
                        <p>Browse auctions, view bids, and log in to place your own bids.</p>
                    </div>
                </div>
            </section>

            <section class="mb-6 card card-pad">
                <form id="searchForm" class="grid gap-3 md:grid-cols-12 md:items-start" autocomplete="off">
                    <div class="md:col-span-6">
                        <label for="searchInput">Search listings</label>
                        <div class="mt-1 flex gap-2">
                            <input id="searchInput" name="q" type="search" class="w-full" placeholder="Try “camera”, “bike”, “vintage”…" />
                            <button type="submit" class="btn-primary">Search</button>
                        </div>
                        <small>Guests can browse and search. Log in to bid.</small>
                    </div>

                    <div class="md:col-span-3">
                        <label for="sortSelect">Sort</label>
                        <div class="mt-1">
                            <select id="sortSelect" name="sort" class="w-full">
                                <option value="created_desc" selected>Newest</option>
                                <option value="ends_asc">Ending soon</option>
                                <option value="bids_desc">Most bids</option>
                            </select>
                        </div>
                    </div>

                    <div class="md:col-span-3">
                        <label for="statusSelect">Status</label>
                        <div class="mt-1">
                            <select id="statusSelect" name="status" class="w-full">
                                <option value="all">All</option>
                                <option value="active" selected>Active only</option>
                                <option value="ended">Ended</option>
                            </select>
                        </div>
                    </div>
                </form>
            </section>

            <section id="feedback" class="mb-6 hidden alert-danger">
                <div class="flex items-start justify-between gap-4">
                    <p id="feedbackText" class="text-red-900">Something went wrong.</p>
                    <button id="feedbackDismiss" type="button" class="btn-secondary">Dismiss</button>
                </div>
            </section>

            <section aria-label="Listings">
                <div id="listingsLoading" class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
                    <div class="card card-pad animate-pulse">
                        <div class="h-32 rounded-lg bg-slate-200"></div>
                        <div class="mt-4 h-4 w-3/4 rounded bg-slate-200"></div>
                        <div class="mt-2 h-4 w-1/2 rounded bg-slate-200"></div>
                    </div>
                    <div class="card card-pad animate-pulse">
                        <div class="h-32 rounded-lg bg-slate-200"></div>
                        <div class="mt-4 h-4 w-3/4 rounded bg-slate-200"></div>
                        <div class="mt-2 h-4 w-1/2 rounded bg-slate-200"></div>
                    </div>
                    <div class="hidden lg:block card card-pad animate-pulse">
                        <div class="h-32 rounded-lg bg-slate-200"></div>
                        <div class="mt-4 h-4 w-3/4 rounded bg-slate-200"></div>
                        <div class="mt-2 h-4 w-1/2 rounded bg-slate-200"></div>
                    </div>
                </div>

                <div id="listingsGrid" class="hidden grid gap-4 sm:grid-cols-2 lg:grid-cols-3"></div>

                <!-- Load more button for 15-at-a-time pagination -->
                <button id="loadMoreBtn" class="btn-secondary mt-6 w-full hidden" type="button">
                    Load more
                </button>

                <div id="listingsEmpty" class="hidden card card-pad text-center">
                    <h2>No listings found</h2>
                    <p>Try a different search or clear filters.</p>
                    <div class="mt-4 flex justify-center gap-2">
                        <button id="clearSearchBtn" type="button" class="btn-secondary">Clear search</button>
                        <a href="#/create" class="btn-primary">Create listing</a>
                    </div>
                </div>
            </section>
        </div>

        <!-- APP VIEW (routed pages render here) -->
        <div id="appView" class="hidden"></div>
    </main>

    <footer class="border-t bg-white">
        <div class="container-page py-10">

            <!-- Footer heading -->
            <div class="mb-8">
                <h2 class="font-heading text-lg text-brand-ink">
                    How it works
                </h2>
                <p class="mt-1 text-sm text-brand-muted">
                    Four simple steps to get started with Noroff TradeHub.
                </p>
            </div>

            <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-4 text-sm">

                <!-- 1: Register & log in -->
                <a href="#/register"
                    class="group block rounded-2xl border border-brand-border bg-brand-bg p-5 shadow-soft transition hover:shadow-md hover:border-brand-accent no-underline hover:no-underline focus:no-underline">
                    <div class="flex items-start gap-3 mb-1">
                        <!-- Icon (user) -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-brand-ink flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4 0-7 2-7 4v1h14v-1c0-2-3-4-7-4z" />
                        </svg>
                        <h3 class="font-heading text-base text-brand-ink">
                            Register & log in
                        </h3>
                    </div>
                    <p class="text-brand-muted">
                        Create a free account to unlock bidding and listing features, then log in to manage your auctions.
                    </p>
                </a>

                <!-- 2: Browse listings -->
                <a href="#/"
                    class="group block rounded-2xl border border-brand-border bg-brand-bg p-5 shadow-soft transition hover:shadow-md hover:border-brand-accent no-underline hover:no-underline focus:no-underline">
                    <div class="flex items-start gap-3 mb-1">
                        <!-- Icon (search) -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-brand-ink flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z" />
                        </svg>
                        <h3 class="font-heading text-base text-brand-ink">
                            Browse listings
                        </h3>
                    </div>
                    <p class="text-brand-muted">
                        Search and filter auctions, view item details, images, bid history, and end times.
                    </p>
                </a>

                <!-- 3: Place bids / create listing -->
                <a href="#/create"
                    class="group block rounded-2xl border border-brand-border bg-brand-bg p-5 shadow-soft transition hover:shadow-md hover:border-brand-accent no-underline hover:no-underline focus:no-underline">
                    <div class="flex items-start gap-3 mb-1">
                        <!-- Icon (plus in circle) -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-brand-ink flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v8m4-4H8m12 0A8 8 0 11 4 12a8 8 0 0116 0z" />
                        </svg>
                        <h3 class="font-heading text-base text-brand-ink">
                            Bid or Create
                        </h3>
                    </div>
                    <p class="text-brand-muted">
                        Bid on active auctions, or publish your own listing and start receiving offers.
                    </p>
                </a>

                <!-- 4: Reap the rewards -->
                <a href="#/profile"
                    class="group block rounded-2xl border border-brand-border bg-brand-bg p-5 shadow-soft transition hover:shadow-md hover:border-brand-accent no-underline hover:no-underline focus:no-underline">
                    <div class="flex items-start gap-3 mb-1">
                        <!-- Icon (check) -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-brand-ink flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <h3 class="font-heading text-base text-brand-ink">
                            Reap the rewards
                        </h3>
                    </div>
                    <p class="text-brand-muted">
                        Win auctions, grow your profile, and keep track of everything in one place.
                    </p>
                </a>

            </div>

            <div class="mt-10 text-sm text-brand-muted">
                Built for the Noroff Auction API — front-end only.<br />
                Fed2 SP2 | Noroff TradeHub | Stian Rostad &#169; 2026
            </div>
        </div>
    </footer>





    <!-- Toast container -->
    <div id="toastRoot" class="fixed z-50 flex flex-col gap-2 pointer-events-none
         inset-x-0 top-4 px-4 items-center
         sm:inset-auto sm:top-4 sm:right-4 sm:items-end"></div>

    <!-- Back to top button -->
    <button id="backToTopBtn" class="hidden fixed bottom-6 right-4 btn-secondary px-3 py-2 text-sm shadow-lg">
        ↑ Back to top
    </button>

</body>

</html>